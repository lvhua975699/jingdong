"use strict";var inp1,img=$(".middle").children()[0],arr=$(".shop-right").children(),h2=arr[0],p=arr[1].children[0],span=arr[2].children[0],h3=arr[2].children[1],bigimg=$(".big"),num=window.sessionStorage.num?window.sessionStorage.num:0;img.setAttribute("src",window.sessionStorage.imgurl),h2.innerHTML=window.sessionStorage.p,p.innerHTML=parseInt(window.sessionStorage.price.substring(1)),bigimg[0].setAttribute("style","background-image:url("+window.sessionStorage.imgurl+")"),h3.onclick=function(){$.get("../interface/addwq.php",{id:window.sessionStorage.index,img:window.sessionStorage.imgurl,price:p.innerHTML,name:h2.innerHTML},function(e){1==JSON.parse(e).code&&(alert("添加商品成功"),window.sessionStorage.num=++num,window.location.reload())})},window.sessionStorage.num&&((inp1=$(".input").children()[3]).children[0].children[1].innerHTML=window.sessionStorage.num,console.log(inp1));var login=$(".login").parent();function Enlarge(e){var i=this;this.box=document.querySelector("."+e),this.m=this.box.querySelector(".shop-left"),this.middleImg=this.box.querySelector(".shop-left img"),this.middle=this.box.querySelector(".middle"),this.shade=this.box.querySelector(".shade"),this.big=this.box.querySelector(".big");this.middle.onmouseenter=function(){i.over()},this.middle.onmouseleave=function(){i.out()}}window.sessionStorage.name&&(login.html("欢迎您      "+window.sessionStorage.name),console.log(login)),Enlarge.prototype.out=function(){this.shade.style.display="none",this.big.style.display="none"},Enlarge.prototype.over=function(){this.shade.style.display="block",this.big.style.display="block";var s=this;this.middle.onmousemove=function(e){var i=(e=e||window.event).pageX,t=e.pageY,o=i-s.box.offsetLeft-this.offsetLeft-s.shade.offsetWidth/2;o<=0&&(o=0),o>=this.clientWidth-s.shade.offsetWidth&&(o=this.clientWidth-s.shade.offsetWidth),s.shade.style.left=o+"px";var n=t-s.box.offsetTop-this.offsetTop-s.shade.offsetHeight/2;n<=0&&(n=0),n>=this.clientHeight-s.shade.offsetHeight&&(n=this.clientHeight-s.shade.offsetHeight),s.shade.style.top=n+"px",s.fangda(o,n)}},Enlarge.prototype.fangda=function(e,i){var t=e/this.middle.clientWidth,o=window.getComputedStyle(this.big).backgroundSize,n=t*parseInt(o.split(" ")[0]),s=i/this.middle.clientHeight*parseInt(o.split(" ")[1]);this.big.style.backgroundPosition="-".concat(n,"px -").concat(s,"px")};var enlarge=new Enlarge("shop-con");